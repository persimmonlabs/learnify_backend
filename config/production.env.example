# Production Environment Configuration
# Copy this file to production.env and fill in the actual values
# WARNING: Never commit the actual production.env file to version control

# Application
APP_NAME=backend-production
APP_PORT=8080
APP_URL=https://api.example.com
ENV=production
LOG_LEVEL=info

# Database
DATABASE_URL=postgres://user:password@production-db.example.com:5432/backend_production?sslmode=require
DATABASE_MAX_CONNECTIONS=100
DATABASE_MAX_IDLE_CONNECTIONS=25
DATABASE_CONNECTION_MAX_LIFETIME=3600s
DATABASE_SSL_MODE=require

# Redis
REDIS_URL=redis://production-redis.example.com:6379/0
REDIS_PASSWORD=your_strong_redis_password
REDIS_MAX_CONNECTIONS=50
REDIS_CLUSTER_MODE=true
REDIS_SENTINEL_ENABLED=true

# Docker
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE=your-org/backend
DOCKER_NETWORK=production-network

# Deployment
DEPLOYMENT_STRATEGY=blue-green
RUN_MIGRATIONS=true
HEALTH_CHECK_TIMEOUT=60s
ROLLBACK_ON_FAILURE=true

# Monitoring
SENTRY_DSN=https://your-production-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
PROMETHEUS_ENABLED=true
METRICS_PORT=9090
DATADOG_API_KEY=your_datadog_api_key
DATADOG_ENABLED=true

# External Services
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_production_aws_access_key
AWS_SECRET_ACCESS_KEY=your_production_aws_secret_key
S3_BUCKET=production-backend-uploads
CLOUDFRONT_DISTRIBUTION=your_cloudfront_id

# Authentication
JWT_SECRET=your_very_strong_jwt_secret_key_for_production
JWT_EXPIRATION=1h
REFRESH_TOKEN_EXPIRATION=7d
SESSION_SECRET=your_very_strong_session_secret_for_production
PASSWORD_MIN_LENGTH=12
MFA_ENABLED=true

# Email
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=your_sendgrid_api_key
EMAIL_FROM=noreply@example.com
EMAIL_RATE_LIMIT=1000

# Feature Flags
FEATURE_NEW_API=false
FEATURE_BETA_USERS=false
FEATURE_DEBUG_MODE=false
FEATURE_MAINTENANCE_MODE=false

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60s
RATE_LIMIT_BURST=20
DDOS_PROTECTION=true

# CORS
CORS_ALLOWED_ORIGINS=https://www.example.com,https://app.example.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=86400

# Security
SECURE_COOKIES=true
CSRF_ENABLED=true
HELMET_ENABLED=true
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
XSS_PROTECTION=true
FRAME_OPTIONS=DENY

# Backup
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_FREQUENCY=daily
BACKUP_S3_BUCKET=production-backend-backups
BACKUP_ENCRYPTION=true

# Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/PRODUCTION/WEBHOOK
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key
OPSGENIE_API_KEY=your_opsgenie_key
ALERT_ON_ERROR=true
ALERT_ON_HIGH_LOAD=true

# Performance
MAX_REQUEST_SIZE=5MB
REQUEST_TIMEOUT=30s
GRACEFUL_SHUTDOWN_TIMEOUT=60s
CONNECTION_POOL_SIZE=100
WORKER_COUNT=auto

# Cache
CACHE_TTL=600s
CACHE_ENABLED=true
CACHE_COMPRESSION=true
CACHE_INVALIDATION_ENABLED=true

# CDN
CDN_ENABLED=true
CDN_URL=https://cdn.example.com
CDN_CACHE_CONTROL=public, max-age=31536000

# API Keys (External Services)
STRIPE_SECRET_KEY=sk_live_your_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
TWILIO_ACCOUNT_SID=your_production_twilio_sid
TWILIO_AUTH_TOKEN=your_production_twilio_token
SENDGRID_API_KEY=your_production_sendgrid_key
GOOGLE_CLOUD_PROJECT=your_gcp_project_id
FIREBASE_CREDENTIALS_PATH=/secrets/firebase-credentials.json

# SSL/TLS
TLS_CERT_PATH=/certs/server.crt
TLS_KEY_PATH=/certs/server.key
TLS_MIN_VERSION=1.3
TLS_CIPHER_SUITES=TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384

# Database Read Replicas
DATABASE_READ_REPLICA_URL=postgres://user:password@read-replica.example.com:5432/backend_production?sslmode=require
DATABASE_READ_REPLICA_COUNT=3

# Load Balancing
LOAD_BALANCER_URL=https://lb.example.com
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=10s

# Compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=730
AUDIT_LOGGING=true
PCI_COMPLIANCE=true

# Deployment Metadata
DEPLOY_VERSION=
DEPLOY_TIMESTAMP=
DEPLOY_BY=
DEPLOY_COMMIT_SHA=

# Emergency Contacts
ONCALL_SLACK_CHANNEL=#oncall-alerts
ONCALL_EMAIL=oncall@example.com
INCIDENT_RESPONSE_URL=https://runbook.example.com
